/*!
 * jQuery Smoothies
 * https://github.com/inukshuk/jquery-smoothies
 *
 * Copyright 2011, Sylvester Keil
 * Licensed under the MIT license.
 * https://github.com/inukshuk/jquery-smoothies/blob/master/LICENSE
 *
 * Date: 2011-05-30 18:21:08 +0200
 */
/*global jQuery: true */
"use strict",function(a,b,c,d,e,f){var g={},h=function(d){var f={},g=d||{};f.init=function(c,d){g.$=a(c),g.options=a.extend({},a.fn[b].defaults,d),g.viewport=j(g.options.viewport),this.hash=g.hash(),g.$.data("smoothie",this);return this},f.position=function(){a[c].settings.caching===!1&&g.position.refresh();return g.position()},f.go=function(){a.isFunction(g.options.before)&&g.options.before.apply(g.$,[]),this.visible()?a.isFunction(g.options.after)&&g.options.after.apply(g.$,[]):g.viewport.stop().animate(this.position(),g.options.duration,g.options.easing,a.proxy(g.options.after,g.$))},f.visible=function(){var b=g.viewport,c=a(e),d=c.width(),f=c.height(),h=g.$.offset(),i=h.top-g.options.offset-b.scrollTop(),j=h.left-g.options.offset-b.scrollLeft();if(i<=0||j<=0)return!1;i=h.top+g.$.outerHeight()-f-b.scrollTop(),j=h.left+g.$.outerWidth()-d-b.scrollLeft();return i<=0&&j<=0},f.refresh=function(){g.position.refresh()},f.element=function(){return g.$},f.options=function(){return g.options},f.start=f.init,f.rm=f.remove,g.position=function(){return g._position||g.position.refresh()},g.position.refresh=function(){var a=g.$.offset();return g._position={scrollTop:a.top-g.options.offset,scrollLeft:a.left-g.options.offset}},g.hash=function(){return g.$.data("hash")||null};return f},i={init:function(a){return this.each(function(){var b=h().init(this,a);g[b.hash]=b})},get:function(){return this.map(function(){return g[a(this).data("hash")]})},remove:function(){return this.each(function(){delete g[a(this).data("hash")]})}},j=function(b){var c;a(b).each(function(){var b=a(this);if(this===document||this===e)return!0;if(b.scrollTop()>0){c=b;return!1}b.scrollTop(1);if(b.scrollTop()>0){b.scrollTop(0),c=b;return!1}return!0});return c};if(a===f)return!1;a.fn[b]=function(b){var d;if(this.length){d=typeof b=="string"&&b||"init";if(i[d])return i[d].apply(this,arguments);a.error("Method "+d+" is not supported by jquery-"+c)}return this},a.fn[b].defaults={offset:0,easing:"swing",duration:"normal",before:null,after:null,viewport:"html,body"},a[c]=function(b){var c;if(b)return g[b]&&g[b].element()||a();c=a(),a.each(g,function(){c=c.add(this.element())});return c},a[c].remove=function(a){a?delete g[a]:g={};return!0},a[c].settings={"data.key":[b,"data"].join("-"),caching:!0},a[c].version=d,a(e).hashchange(function(a){var b=g[e.location.hash.replace(/^#/,"")];b&&b.go();return!0}).load(function(a){var b=g[e.location.hash.replace(/^#/,"")];b&&b.go();return!0});return!0}(jQuery,"smoothie","smoothies","0.0.1",window)
